<div class="login-modal">
  <div class="modal-header">
    <h2>{{ isLoginMode ? 'Login' : 'Create Account' }}</h2>
    <p class="subtitle">
      {{ isLoginMode ? 'Welcome back!' : 'Join us today' }}
    </p>
  </div>

  <form (ngSubmit)="onSubmit()" #authForm="ngForm">
    <mat-form-field appearance="fill">
      <mat-label>Email</mat-label>
      <input
        matInput
        type="email"
        [(ngModel)]="email"
        name="email"
        required
        email
        [disabled]="isLoading"
      />
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Password</mat-label>
      <input
        matInput
        type="password"
        [(ngModel)]="password"
        name="password"
        required
        minlength="6"
        [disabled]="isLoading"
      />
    </mat-form-field>

    <div class="error" *ngIf="error">{{ error }}</div>

    <div class="actions">
      <button
        mat-raised-button
        color="primary"
        type="submit"
        [disabled]="!authForm.form.valid || isLoading"
        class="submit-btn"
      >
        <span *ngIf="!isLoading"
          >{{ isLoginMode ? 'Login' : 'Create Account' }}</span
        >
        <div *ngIf="isLoading" class="loading-content">
          <mat-spinner diameter="20"></mat-spinner>
          <span
            >{{ isLoginMode ? 'Logging in...' : 'Creating account...' }}</span
          >
        </div>
      </button>

      <div class="mode-toggle" *ngIf="!isLoading">
        <span
          >{{ isLoginMode ? "Don't have an account?" : "Already have an
          account?" }}</span
        >
        <button
          mat-button
          type="button"
          (click)="toggleMode()"
          class="toggle-btn"
        >
          {{ isLoginMode ? 'Sign up' : 'Sign in' }}
        </button>
      </div>
    </div>
  </form>
</div>
